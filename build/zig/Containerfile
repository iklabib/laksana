FROM docker.io/library/debian:bookworm-slim

RUN apt update && apt -y install curl jq aria2 tar xz-utils 

COPY zig-setup.bash .
RUN bash zig-setup.bash
ENV PATH="/zig:${PATH}"

# leave tar and xa-utils, because they look polite
RUN apt purge --auto-remove -y curl jq aria2
RUN rm -rf /var/lib/apt/lists/* && rm zig-setup.bash